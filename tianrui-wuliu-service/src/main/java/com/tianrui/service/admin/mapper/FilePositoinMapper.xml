<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.tianrui.service.admin.mapper.FilePositoinMapper" >
  <resultMap id="BaseResultMap" type="com.tianrui.service.admin.bean.FilePositoin" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="ID" property="id" jdbcType="VARCHAR" />
    <result column="orgId" property="orgid" jdbcType="VARCHAR" />
    <result column="name" property="name" jdbcType="VARCHAR" />
    <result column="opc" property="opc" jdbcType="VARCHAR" />
    <result column="op" property="op" jdbcType="VARCHAR" />
    <result column="occ" property="occ" jdbcType="VARCHAR" />
    <result column="oc" property="oc" jdbcType="VARCHAR" />
    <result column="oac" property="oac" jdbcType="VARCHAR" />
    <result column="oa" property="oa" jdbcType="VARCHAR" />
    <result column="addr" property="addr" jdbcType="VARCHAR" />
    <result column="lat" property="lat" jdbcType="INTEGER" />
    <result column="lng" property="lng" jdbcType="INTEGER" />
    <result column="status" property="status" jdbcType="INTEGER" />
    <result column="count" property="count" jdbcType="VARCHAR" />
    <result column="creator" property="creator" jdbcType="VARCHAR" />
    <result column="createtime" property="createtime" jdbcType="BIGINT" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    ID, orgId, name, opc, op, occ, oc, oac, oa, addr, lat, lng,status, creator, createtime
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
    select 
    <include refid="Base_Column_List" />
    from file_position
    where ID = #{id,jdbcType=VARCHAR}
  </select>
  <select id="selectByCondition" resultMap="BaseResultMap" parameterType="com.tianrui.service.admin.bean.FilePositoin" >
    select 
    	fp.ID, fp.orgId, fp.name, fp.opc, fp.op, fp.occ, fp.oc, fp.oac, fp.oa, fp.addr, fp.lat, 
    	fp.lng,fp.status, fp.creator, fp.createtime,
    	(select count(*) from file_route fr where fr.oPositionId = fp.ID or fr.dPositionId = fp.ID) count
    from file_position fp
    	<where>
    		 <if test="orgid != null and orgid !=''" >
		       and fp.orgId = #{orgid,jdbcType=VARCHAR}
		      </if>
		      <if test="name != null and name !=''" >
		       and fp.name like concat("%",#{name,jdbcType=VARCHAR},"%")
		      </if>
		      <if test="status != null" >
		       and fp.status = #{status,jdbcType=INTEGER}
		      </if>
    	</where>
    	order by fp.createtime desc
    	<if test="start != null and start != '0'">
      		<if test="limit !=null" >
	      		limit #{start,jdbcType=INTEGER},#{limit,jdbcType=INTEGER}
      		</if>
    	</if>
  </select>
  <select id="countByCondition" resultType="long" parameterType="com.tianrui.service.admin.bean.FilePositoin" >
    select 
    	count(1)
    from file_position
    	<where>
    		 <if test="orgid != null and orgid !=''" >
		       and orgId = #{orgid,jdbcType=VARCHAR}
		      </if>
		      <if test="name != null and name !=''" >
		       and name like concat("%",#{name,jdbcType=VARCHAR},"%")
		      </if>
		       <if test="status != null" >
		       and status = #{status,jdbcType=INTEGER}
		      </if>
    	</where>
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    delete from file_position
    where ID = #{id,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.tianrui.service.admin.bean.FilePositoin" >
    insert into file_position (ID, orgId, name, 
      opc, op, occ, oc, 
      oac, oa, addr, lat, status,
      lng, creator, createtime
      )
    values (#{id,jdbcType=VARCHAR}, #{orgid,jdbcType=VARCHAR}, #{name,jdbcType=VARCHAR}, 
      #{opc,jdbcType=VARCHAR}, #{op,jdbcType=VARCHAR}, #{occ,jdbcType=VARCHAR}, #{oc,jdbcType=VARCHAR}, 
      #{oac,jdbcType=VARCHAR}, #{oa,jdbcType=VARCHAR}, #{addr,jdbcType=VARCHAR}, #{lat,jdbcType=INTEGER},  #{status,jdbcType=INTEGER}, 
      #{lng,jdbcType=INTEGER}, #{creator,jdbcType=VARCHAR}, #{createtime,jdbcType=BIGINT}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.tianrui.service.admin.bean.FilePositoin" >
    insert into file_position
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        ID,
      </if>
      <if test="orgid != null" >
        orgId,
      </if>
      <if test="name != null" >
        name,
      </if>
      <if test="opc != null" >
        opc,
      </if>
      <if test="op != null" >
        op,
      </if>
      <if test="occ != null" >
        occ,
      </if>
      <if test="oc != null" >
        oc,
      </if>
      <if test="oac != null" >
        oac,
      </if>
      <if test="oa != null" >
        oa,
      </if>
      <if test="addr != null" >
        addr,
      </if>
      <if test="lat != null" >
        lat,
      </if>
      <if test="status != null" >
        status,
      </if>
      <if test="lng != null" >
        lng,
      </if>
      <if test="creator != null" >
        creator,
      </if>
      <if test="createtime != null" >
        createtime,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=VARCHAR},
      </if>
      <if test="orgid != null" >
        #{orgid,jdbcType=VARCHAR},
      </if>
      <if test="name != null" >
        #{name,jdbcType=VARCHAR},
      </if>
      <if test="opc != null" >
        #{opc,jdbcType=VARCHAR},
      </if>
      <if test="op != null" >
        #{op,jdbcType=VARCHAR},
      </if>
      <if test="occ != null" >
        #{occ,jdbcType=VARCHAR},
      </if>
      <if test="oc != null" >
        #{oc,jdbcType=VARCHAR},
      </if>
      <if test="oac != null" >
        #{oac,jdbcType=VARCHAR},
      </if>
      <if test="oa != null" >
        #{oa,jdbcType=VARCHAR},
      </if>
      <if test="addr != null" >
        #{addr,jdbcType=VARCHAR},
      </if>
      <if test="lat != null" >
        #{lat,jdbcType=INTEGER},
      </if>
      <if test="status != null" >
        #{status,jdbcType=INTEGER},
      </if>
      <if test="lng != null" >
        #{lng,jdbcType=INTEGER},
      </if>
      <if test="creator != null" >
        #{creator,jdbcType=VARCHAR},
      </if>
      <if test="createtime != null" >
        #{createtime,jdbcType=BIGINT},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.tianrui.service.admin.bean.FilePositoin" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update file_position
    <set >
      <if test="orgid != null" >
        orgId = #{orgid,jdbcType=VARCHAR},
      </if>
      <if test="name != null" >
        name = #{name,jdbcType=VARCHAR},
      </if>
      <if test="opc != null" >
        opc = #{opc,jdbcType=VARCHAR},
      </if>
      <if test="op != null" >
        op = #{op,jdbcType=VARCHAR},
      </if>
      <if test="occ != null" >
        occ = #{occ,jdbcType=VARCHAR},
      </if>
      <if test="oc != null" >
        oc = #{oc,jdbcType=VARCHAR},
      </if>
      <if test="oac != null" >
        oac = #{oac,jdbcType=VARCHAR},
      </if>
      <if test="oa != null" >
        oa = #{oa,jdbcType=VARCHAR},
      </if>
      <if test="addr != null" >
        addr = #{addr,jdbcType=VARCHAR},
      </if>
      <if test="lat != null" >
        lat = #{lat,jdbcType=INTEGER},
      </if>
      <if test="status != null" >
        status = #{status,jdbcType=INTEGER},
      </if>
      <if test="lng != null" >
        lng = #{lng,jdbcType=INTEGER},
      </if>
      <if test="creator != null" >
        creator = #{creator,jdbcType=VARCHAR},
      </if>
      <if test="createtime != null" >
        createtime = #{createtime,jdbcType=BIGINT},
      </if>
    </set>
    where ID = #{id,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.tianrui.service.admin.bean.FilePositoin" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update file_position
    set orgId = #{orgid,jdbcType=VARCHAR},
      name = #{name,jdbcType=VARCHAR},
      opc = #{opc,jdbcType=VARCHAR},
      op = #{op,jdbcType=VARCHAR},
      occ = #{occ,jdbcType=VARCHAR},
      oc = #{oc,jdbcType=VARCHAR},
      oac = #{oac,jdbcType=VARCHAR},
      oa = #{oa,jdbcType=VARCHAR},
      addr = #{addr,jdbcType=VARCHAR},
      lat = #{lat,jdbcType=INTEGER},
      lng = #{lng,jdbcType=INTEGER},
      status = #{status,jdbcType=INTEGER},
      creator = #{creator,jdbcType=VARCHAR},
      createtime = #{createtime,jdbcType=BIGINT}
    where ID = #{id,jdbcType=VARCHAR}
  </update>
</mapper>