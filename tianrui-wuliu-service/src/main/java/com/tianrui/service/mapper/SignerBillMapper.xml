<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.tianrui.service.mapper.SignerBillMapper" >
  <resultMap id="BaseResultMap" type="com.tianrui.service.bean.SignerBill" >
    <result column="ID" property="id" jdbcType="VARCHAR" />
    <result column="billtype" property="billtype" jdbcType="VARCHAR" />
    <result column="billno" property="billno" jdbcType="VARCHAR" />
    <result column="vehicleno" property="vehicleno" jdbcType="VARCHAR" />
    <result column="cargoname" property="cargoname" jdbcType="VARCHAR" />
    <result column="billstatus" property="billstatus" jdbcType="VARCHAR" />
    <result column="payment" property="payment" jdbcType="VARCHAR" />
    <result column="receive_memberid" property="receiveMemberid" jdbcType="VARCHAR" />
    <result column="createtime" property="createtime" jdbcType="BIGINT" />
    <result column="modifytime" property="modifytime" jdbcType="BIGINT" />
    <result column="recive_cellphone" property="reciveCellphone" jdbcType="VARCHAR" />
    
    <result column="totalprice" property="totalprice" jdbcType="DOUBLE" />
  </resultMap>
  
  
  <sql id="Base_Column_List" >
      ID, billtype, billno, 
      vehicleno, cargoname, billstatus, 
      payment, receive_memberid, createtime, 
      modifytime, recive_cellphone, totalprice
  </sql>
 
  <select id="selectByCondition" resultMap="BaseResultMap" parameterType="com.tianrui.service.bean.SignerBill" >
    select 
    <include refid="Base_Column_List" />
    from v_signer_bill
    <where>
    	<if test="billno != null and billno != ''">
    		and billno like "%" #{billno,jdbcType=VARCHAR} "%"
    	</if>
    	<if test="vehicleno != null and vehicleno != ''">
    		and vehicleno like "%" #{vehicleno,jdbcType=VARCHAR} "%"
    	</if>
    	<if test="reciveCellphone != null and reciveCellphone != ''">
    		and recive_cellphone like "%" #{reciveCellphone,jdbcType=VARCHAR} "%"
    	</if>
    	<if test="receiveMemberid != null and receiveMemberid != ''">
    		and receive_memberid like "%" #{receiveMemberid,jdbcType=VARCHAR} "%"
    	</if>
    </where>
    order by createtime desc
    <if test="pageNo != null">
    	limit #{pageNo,jdbcType=INTEGER},#{pageSize,jdbcType=INTEGER}
    </if>
  </select>
  
  <select id="selectBycount" resultType="long" parameterType="com.tianrui.service.bean.SignerBill" >
    select 
    	count(0)
    from v_signer_bill
    <where>
    	<if test="billno != null and billno != ''">
    		and billno like "%" #{billno,jdbcType=VARCHAR} "%"
    	</if>
    	<if test="vehicleno != null and vehicleno != ''">
    		and vehicleno like "%" #{vehicleno,jdbcType=VARCHAR} "%"
    	</if>
    	<if test="reciveCellphone != null and reciveCellphone != ''">
    		and recive_cellphone like "%" #{reciveCellphone,jdbcType=VARCHAR} "%"
    	</if>
    	<if test="receiveMemberid != null and receiveMemberid != ''">
    		and receive_memberid like "%" #{receiveMemberid,jdbcType=VARCHAR} "%"
    	</if>
    </where>
  </select>
  
</mapper>